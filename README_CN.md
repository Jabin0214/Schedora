# ğŸ¢ Schedora - ç‰©ä¸šç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº .NET 9.0 + React 19 çš„ç°ä»£åŒ–ç‰©ä¸šå·¡æ£€ç®¡ç†ç³»ç»Ÿã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“¦ æ ¸å¿ƒåŠŸèƒ½
- **ç‰©ä¸šæ¡£æ¡ˆç®¡ç†**: æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤ç‰©ä¸šä¿¡æ¯
- **å·¡æ£€ä»»åŠ¡ç®¡ç†**: åˆ›å»ºå’Œè¿½è¸ªå…¥ä½æ£€æŸ¥ã€é€€æˆ¿æ£€æŸ¥ã€ä¾‹è¡Œæ£€æŸ¥
- **æ‚æ´»è®°å½•**: è®°å½•æ—¥å¸¸æ‚é¡¹å·¥ä½œå’Œè´¹ç”¨
- **å†å²è®°å½•**: æŸ¥çœ‹æ‰€æœ‰å·²å®Œæˆçš„ä»»åŠ¡å’Œæ‚æ´»
- **è‡ªåŠ¨è®¡è´¹**: æ ¹æ®ç‰©ä¸šçš„è®¡è´¹ç­–ç•¥è‡ªåŠ¨åˆ¤æ–­æ˜¯å¦æ”¶è´¹

### ğŸ¯ è®¡è´¹ç­–ç•¥
- **å…­ä¸ªæœˆä¸æ”¶è´¹**: æ¯6ä¸ªæœˆä¸€æ¬¡ä¾‹è¡Œæ£€æŸ¥ï¼Œä¸æ”¶è´¹
- **ä¸‰ä¸ªæœˆäº¤æ›¿æ”¶è´¹**: æ¯3ä¸ªæœˆä¸€æ¬¡æ£€æŸ¥ï¼Œæ”¶è´¹å’Œå…è´¹äº¤æ›¿è¿›è¡Œ

---

## ğŸš€ æŠ€æœ¯æ ˆ

### åç«¯
- **.NET 9.0** - æœ€æ–°çš„ .NET æ¡†æ¶
- **ASP.NET Core Web API** - RESTful API
- **Entity Framework Core 9.0** - ORM
- **SQLite** - è½»é‡çº§æ•°æ®åº“
- **Swagger** - API æ–‡æ¡£

### å‰ç«¯
- **React 19.2.0** - ç°ä»£åŒ– UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Ant Design 6.1.4** - UI ç»„ä»¶åº“
- **Axios** - HTTP å®¢æˆ·ç«¯
- **Day.js** - æ—¥æœŸå¤„ç†
- **React Router** - è·¯ç”±ç®¡ç†
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Schedora/
â”œâ”€â”€ Backend/                    # åç«¯ API
â”‚   â”œâ”€â”€ Controllers/           # API æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ PropertiesController.cs
â”‚   â”‚   â”œâ”€â”€ InspectionTasksController.cs
â”‚   â”‚   â”œâ”€â”€ InspectionRecordsController.cs
â”‚   â”‚   â”œâ”€â”€ SundryTasksController.cs
â”‚   â”‚   â””â”€â”€ ReportsController.cs
â”‚   â”œâ”€â”€ Models/                # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ Entities.cs
â”‚   â”œâ”€â”€ Data/                  # æ•°æ®åº“ä¸Šä¸‹æ–‡
â”‚   â”‚   â””â”€â”€ AppDbContext.cs
â”‚   â””â”€â”€ Program.cs             # åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ Frontend/                   # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PropertiesPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TasksPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ HistoryPage.tsx
â”‚   â”‚   â”œâ”€â”€ config/           # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.ts
â”‚   â”‚   â”œâ”€â”€ App.tsx           # åº”ç”¨ä¸»ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.tsx          # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ IMPROVEMENTS.md            # ä»£ç æ”¹è¿›æ€»ç»“
â”œâ”€â”€ DEPLOYMENT_GUIDE.md        # éƒ¨ç½²æŒ‡å—
â””â”€â”€ README_CN.md              # æœ¬æ–‡ä»¶
```

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- .NET 9.0 SDK
- Node.js 18+
- npm æˆ– yarn

### 1. å…‹éš†é¡¹ç›®

```bash
cd ~/Desktop/Schedora
```

### 2. å¯åŠ¨åç«¯

```bash
cd Backend
dotnet restore
dotnet run
```

åç«¯å°†åœ¨ `http://localhost:5097` å¯åŠ¨
Swagger æ–‡æ¡£: `http://localhost:5097/swagger`

### 3. å¯åŠ¨å‰ç«¯

```bash
cd Frontend
npm install
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨

### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: `http://localhost:5173`

---

## ğŸ“Š API ç«¯ç‚¹

### ç‰©ä¸šç®¡ç†
- `GET /api/properties` - è·å–æ‰€æœ‰ç‰©ä¸š
- `GET /api/properties/{id}` - è·å–å•ä¸ªç‰©ä¸š
- `POST /api/properties` - åˆ›å»ºç‰©ä¸š
- `PUT /api/properties/{id}` - æ›´æ–°ç‰©ä¸š
- `DELETE /api/properties/{id}` - åˆ é™¤ç‰©ä¸š

### å·¡æ£€ä»»åŠ¡
- `GET /api/inspectiontasks` - è·å–æ‰€æœ‰ä»»åŠ¡
- `GET /api/inspectiontasks/{id}` - è·å–å•ä¸ªä»»åŠ¡
- `POST /api/inspectiontasks` - åˆ›å»ºä»»åŠ¡
- `PUT /api/inspectiontasks/{id}` - æ›´æ–°ä»»åŠ¡
- `POST /api/inspectiontasks/{id}/complete` - å®Œæˆä»»åŠ¡
- `DELETE /api/inspectiontasks/{id}` - åˆ é™¤ä»»åŠ¡

### æ‚æ´»ç®¡ç†
- `GET /api/sundrytasks` - è·å–æ‰€æœ‰æ‚æ´»
- `GET /api/sundrytasks/{id}` - è·å–å•ä¸ªæ‚æ´»
- `POST /api/sundrytasks` - åˆ›å»ºæ‚æ´»
- `PUT /api/sundrytasks/{id}` - æ›´æ–°æ‚æ´»
- `DELETE /api/sundrytasks/{id}` - åˆ é™¤æ‚æ´»

### å†å²è®°å½•
- `GET /api/inspectionrecords` - è·å–æ£€æŸ¥è®°å½•
- `GET /api/inspectionrecords/{id}` - è·å–å•ä¸ªè®°å½•

### æŠ¥è¡¨
- `GET /api/reports/payroll` - è·å–å·¥èµ„æŠ¥è¡¨
- `GET /api/reports/two-weeks` - è·å–æœ€è¿‘ä¸¤å‘¨æŠ¥è¡¨

---

## ğŸ¨ é¡µé¢è¯´æ˜

### 1. ç‰©ä¸šæ¡£æ¡ˆé¡µé¢ (`/`)
- æŸ¥çœ‹æ‰€æœ‰ç‰©ä¸šåˆ—è¡¨
- æ·»åŠ æ–°ç‰©ä¸š
- ç¼–è¾‘ç‰©ä¸šä¿¡æ¯
- åˆ é™¤ç‰©ä¸šï¼ˆéœ€è¦æ— å…³è”æ•°æ®ï¼‰
- è®¾ç½®è®¡è´¹ç­–ç•¥

### 2. ä»»åŠ¡è®¡åˆ’é¡µé¢ (`/tasks`)
- æŸ¥çœ‹æ‰€æœ‰å¾…åŠä»»åŠ¡å’Œæ‚æ´»
- ä»»åŠ¡åˆ†ä¸ºï¼šä»Šæ—¥ã€æœªæ¥ã€å¾…å®šä¸‰ä¸ªåŒºåŸŸ
- æ·»åŠ æ–°çš„å·¡æ£€ä»»åŠ¡
- æ·»åŠ æ‚æ´»è®°å½•ï¼ˆåŒ…å«è´¹ç”¨ï¼‰
- å®Œæˆä»»åŠ¡ï¼ˆè‡ªåŠ¨å½’æ¡£åˆ°å†å²ï¼‰
- è¡Œå†…ç¼–è¾‘ä»»åŠ¡ä¿¡æ¯

### 3. å†å²è®°å½•é¡µé¢ (`/history`)
- æŸ¥çœ‹å·²å®Œæˆçš„ä»»åŠ¡å’Œæ‚æ´»
- æŒ‰æ—¥æœŸèŒƒå›´è¿‡æ»¤
- å¿«é€Ÿé¢„è®¾ï¼ˆè¿‘14å¤©ã€è¿‘30å¤©ï¼‰
- æ˜¾ç¤ºä»»åŠ¡ç±»å‹ã€æ”¶è´¹çŠ¶æ€ã€è´¹ç”¨

---

## ğŸ”§ æœ€è¿‘æ›´æ–° (2026-01-09)

### ä¸¥é‡Bugä¿®å¤ âœ…
1. **æ•°æ®åº“å®‰å…¨**: ç§»é™¤ `EnsureDeleted()`ï¼Œé˜²æ­¢æ•°æ®æ„å¤–ä¸¢å¤±
2. **æ€§èƒ½ä¼˜åŒ–**: æ·»åŠ æ•°æ®åº“ç´¢å¼•ï¼Œå¤§å¹…æå‡æŸ¥è¯¢é€Ÿåº¦
3. **æ•°æ®å®Œæ•´æ€§**: æ·»åŠ å¤–é”®çº¦æŸå’Œåˆ é™¤ä¿æŠ¤
4. **é‡å¤ä»£ç **: æ¶ˆé™¤æ§åˆ¶å™¨ä¸­çš„é‡å¤æŸ¥è¯¢

### åŠŸèƒ½å®Œå–„ âœ…
1. **æ‚æ´»è´¹ç”¨**: å®Œæ•´æ”¯æŒè´¹ç”¨çš„å½•å…¥ã€ç¼–è¾‘å’Œæ˜¾ç¤º
2. **èœå•å¯¼èˆª**: èœå•é€‰ä¸­çŠ¶æ€æ­£ç¡®è·Ÿéšè·¯ç”±
3. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
4. **ç±»å‹å®‰å…¨**: ç§»é™¤ä¸å®‰å…¨çš„ç±»å‹æ–­è¨€

è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ `IMPROVEMENTS.md`

---

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½

1. **åç«¯æ·»åŠ  API**
   ```csharp
   // åœ¨ç›¸åº”çš„ Controller ä¸­æ·»åŠ æ–°çš„ç«¯ç‚¹
   [HttpGet("custom-endpoint")]
   public async Task<ActionResult> CustomEndpoint()
   {
       // å®ç°é€»è¾‘
   }
   ```

2. **å‰ç«¯è°ƒç”¨ API**
   ```typescript
   // åœ¨ api.ts ä¸­æ·»åŠ ç«¯ç‚¹
   export const API_ENDPOINTS = {
     custom: `${API_BASE_URL}/custom-endpoint`,
   };
   
   // åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
   const response = await axios.get(API_ENDPOINTS.custom);
   ```

### æ•°æ®åº“è¿ç§»

```bash
cd Backend

# å¤‡ä»½æ•°æ®
cp inspection.db inspection.db.backup

# ä¿®æ”¹ Entities.cs æˆ– AppDbContext.cs

# åˆ é™¤æ—§æ•°æ®åº“ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
rm inspection.db

# é‡å¯åº”ç”¨ï¼ˆè‡ªåŠ¨åˆ›å»ºæ–°æ¶æ„ï¼‰
dotnet run
```

### æ ·å¼è‡ªå®šä¹‰

ç¼–è¾‘ `Frontend/src/App.css` æˆ– `Frontend/src/index.css`

---

## ğŸ› æ•…éšœæ’æŸ¥

### åç«¯æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | grep 5097

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
dotnet run --verbosity detailed
```

### å‰ç«¯æ— æ³•è¿æ¥åç«¯
1. ç¡®è®¤åç«¯æ­£åœ¨è¿è¡Œ
2. æ£€æŸ¥ `Frontend/src/config/api.ts` ä¸­çš„ API åœ°å€
3. æŸ¥çœ‹æµè§ˆå™¨ Console é”™è¯¯ä¿¡æ¯

### æ•°æ®åº“é”™è¯¯
```bash
# é‡å»ºæ•°æ®åº“
cd Backend
rm inspection.db
dotnet run
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

- **API å“åº”æ—¶é—´**: < 100msï¼ˆæœ‰ç´¢å¼•ä¼˜åŒ–ï¼‰
- **å‰ç«¯é¦–å±åŠ è½½**: < 2s
- **æ•°æ®åº“æŸ¥è¯¢**: ä¼˜åŒ–åæå‡ 50-80%

---

## ğŸ”’ å®‰å…¨æ€§

- CORS é…ç½®ï¼šåªå…è®¸ `http://localhost:5173`
- è¾“å…¥éªŒè¯ï¼šæ‰€æœ‰ API ç«¯ç‚¹éƒ½æœ‰æ•°æ®éªŒè¯
- SQL æ³¨å…¥é˜²æŠ¤ï¼šä½¿ç”¨ Entity Framework å‚æ•°åŒ–æŸ¥è¯¢
- å¤–é”®çº¦æŸï¼šé˜²æ­¢æ•°æ®å­¤ç«‹

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [IMPROVEMENTS.md](./IMPROVEMENTS.md) - ä»£ç å®¡æŸ¥å’Œä¼˜åŒ–æ€»ç»“
- [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—
- [Swagger API æ–‡æ¡£](http://localhost:5097/swagger) - åœ¨çº¿ API æ–‡æ¡£

---

## ğŸ‘¨â€ğŸ’» ä½œè€…

Created by **Jabin** - 2026

---

## ğŸ“„ è®¸å¯è¯

æ­¤é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œä¸ªäººä½¿ç”¨ã€‚

---

## ğŸ¯ æœªæ¥è®¡åˆ’

- [ ] ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆExcel/PDFï¼‰
- [ ] é‚®ä»¶é€šçŸ¥
- [ ] ç§»åŠ¨ç«¯å“åº”å¼ä¼˜åŒ–
- [ ] æ•°æ®å¯è§†åŒ–å›¾è¡¨
- [ ] å¤šè¯­è¨€æ”¯æŒ

---

## ğŸ’¡ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

**ğŸ‰ äº«å—ä½¿ç”¨ Schedoraï¼**
